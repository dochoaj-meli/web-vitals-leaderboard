import store from"./store.js";import LeaderboardResults from"./Leaderboard.js";import Loading from"./Loading.js";import LeaderboardControl from"./LeaderboardControl.js";import Filter from"./Filter.js";import ErrorMessage from"./ErrorMessage.js";const demoUrls=["https://www.cnn.com","https://www.nytimes.com","https://www.foxnews.com","https://www.theguardian.com/international","https://www.washingtonpost.com"];export default function bootApp(){(new LeaderboardResults).init(),(new Loading).init(),requestIdleCallback(()=>{(new LeaderboardControl).init(),(new Filter).init(),(new ErrorMessage).init()});const e=new URL(window.location.href),r=new URLSearchParams(e.search);if(r.has("competitors")){store.o({type:"RUN_LEADERBOARD",t:r.get("competitors").split(","),from:r.get("from")});const{t:e}=store.s();requestIdleCallback(()=>{ga("send",{m:"event",i:"Leaderboard",l:"share",p:e.join(",")})})}else store.o({type:"RUN_LEADERBOARD",t:demoUrls})}